{"version":3,"sources":["webpack:///webpack/bootstrap 1fdaf110f64f6ce6bd2e","webpack:///./lib/main.js","webpack:///./lib/game_view.js","webpack:///./lib/board.js","webpack:///./lib/poke_cell.js","webpack:///./lib/poke_automata_interface.js"],"names":["document","addEventListener","ctx","getElementById","stage","createjs","Stage","mouseEventsEnabled","keyboardEventsEnabled","view","pokeUI","drawBoard","Ticker","framerate","paused","event","removeAllChildren","pokeBattlefield","battle","redrawBoard","update","GameView","DIM_X","DIM_Y","LINE_COLOR","squareSize","numRows","numCols","offset","board","Shape","graphics","beginFill","drawRect","addChild","drawGridLines","draw","line","i","beginStroke","moveTo","lineTo","j","Board","options","cycle","DELTAS","grid","generateGrid","push","rowIdx","colIdx","pokeNeighbors","currentPos","deltaIdx","length","delta","neighborPos","inBounds","neighbor","pokeCell","battleNeighbors","pos","numPokes","offsetX","Math","floor","offsetY","forEach","row","idx","idx2","cell","color","types","pokePalette","immuneFrom","halfDamageTo","doubleDamageTo","defaultDamageStandings","type","random","HP","damageFromType","neighbors","attacker","damage","calculateDamage","defender","includes","pokeAutomataInterface","$playButton","$","$resetButton","installClickHandlers","on","playPause","bind","resetBoard","text"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;;;AAEAA,UAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtD,OAAMC,MAAMF,SAASG,cAAT,CAAwB,KAAxB,CAAZ;;AAEA,OAAMC,QAAQ,IAAIC,SAASC,KAAb,CAAmBJ,GAAnB,CAAd;AACAE,SAAMG,kBAAN,GAA2B,IAA3B;AACAH,SAAMI,qBAAN,GAA8B,IAA9B;AACA,OAAMC,OAAO,wBAAaL,KAAb,CAAb;AACA,OAAMM,SAAS,sCAA0BD,IAA1B,CAAf;AACAA,QAAKE,SAAL;;AAEAN,YAASO,MAAT,CAAgBC,SAAhB,GAA4B,EAA5B;AACAR,YAASO,MAAT,CAAgBE,MAAhB,GAAyB,IAAzB;AACAT,YAASO,MAAT,CAAgBX,gBAAhB,CAAiC,MAAjC,EAAyC,UAACc,KAAD,EAAW;AAClD,SAAG,CAACA,MAAMD,MAAV,EAAiB;AACfV,aAAMY,iBAAN;AACAP,YAAKQ,eAAL,CAAqBC,MAArB;AACAT,YAAKU,WAAL;AACAf,aAAMgB,MAAN;AACD;AACF,IAPD;AASD,EArBD,E;;;;;;;;;;;;;;ACHA;;;;;;;;KAEqBC,Q;AAGnB,qBAAYjB,KAAZ,EAAkB;AAAA;;AAChB,UAAKA,KAAL,GAAaA,KAAb;AACA,UAAKkB,KAAL,GAAa,IAAb;AACA,UAAKC,KAAL,GAAa,GAAb;AACA,UAAKC,UAAL,GAAkB,MAAlB;AACA,UAAKC,UAAL,GAAkB,EAAlB;AACA,UAAKC,OAAL,GAAe,KAAKJ,KAAL,GAAa,KAAKG,UAAjC;AACA,UAAKE,OAAL,GAAe,KAAKJ,KAAL,GAAa,KAAKE,UAAjC;AACA,UAAKG,MAAL,GAAc,CAAG,KAAKF,OAAN,GAAiB,CAAlB,GAAuB,CAAvB,GAA2B,KAAKD,UAAjC,EAA+C,KAAKE,OAAN,GAAiB,CAAlB,GAAuB,CAAvB,GAA2B,KAAKF,UAA7E,CAAd;AACA,UAAKG,MAAL,GAAc,CAAC,CAAD,EAAI,CAAJ,CAAd;AACA,UAAKX,eAAL,GAAuB,oBAAW,EAAES,SAAS,KAAKA,OAAhB,EAAyBC,SAAS,KAAKA,OAAvC,EAAX,CAAvB;;AAEA,UAAKhB,SAAL;AACD;;;;iCAEU;AACT,WAAIkB,QAAQ,IAAIxB,SAASyB,KAAb,EAAZ;AACAD,aAAME,QAAN,CAAeC,SAAf,CAAyB,MAAzB,EAAiCC,QAAjC,CAA0C,CAA1C,EAA6C,CAA7C,EAAgD,KAAKX,KAArD,EAA4D,KAAKC,KAAjE;AACA,YAAKnB,KAAL,CAAW8B,QAAX,CAAoBL,KAApB;AACA,YAAKM,aAAL,CAAmB,KAAKP,MAAxB;AACA,YAAKxB,KAAL,CAAWgB,MAAX;AACD;;;mCAEY;AACX,YAAKH,eAAL,CAAqBmB,IAArB,CAA0B,KAAKhC,KAA/B,EAAsC,KAAKwB,MAA3C,EAAmD,CAAC,KAAKF,OAAN,EAAe,KAAKC,OAApB,CAAnD,EAAiF,KAAKF,UAAtF;AACA,YAAKU,aAAL,CAAmB,KAAKP,MAAxB;AACD;;;mCAEaA,M,EAAO;AACnB,WAAIS,aAAJ;;AAEA,YAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAI,KAAKZ,OAAL,GAAe,CAAlC,EAAqCY,GAArC,EAAyC;AACvCD,gBAAO,IAAIhC,SAASyB,KAAb,EAAP;AACAO,cAAKN,QAAL,CAAcQ,WAAd,CAA0B,MAA1B,EAAkCC,MAAlC,CAAyC,KAAKf,UAAL,GAAgBa,CAAhB,GAAoBV,OAAO,CAAP,CAA7D,EAAwE,CAAxE,EACCa,MADD,CACQ,KAAKhB,UAAL,GAAgBa,CAAhB,GAAoBV,OAAO,CAAP,CAD5B,EACuC,KAAKL,KAD5C;AAEA,cAAKnB,KAAL,CAAW8B,QAAX,CAAoBG,IAApB;AACD;;AAED,YAAI,IAAIK,IAAI,CAAZ,EAAeA,IAAI,KAAKf,OAAL,GAAe,CAAlC,EAAqCe,GAArC,EAAyC;AACvCL,gBAAO,IAAIhC,SAASyB,KAAb,EAAP;AACAO,cAAKN,QAAL,CAAcQ,WAAd,CAA0B,MAA1B,EAAkCC,MAAlC,CAAyC,CAAzC,EAA4C,KAAKf,UAAL,GAAgBiB,CAAhB,GAAkBd,OAAO,CAAP,CAA9D,EACCa,MADD,CACQ,KAAKnB,KADb,EACoB,KAAKG,UAAL,GAAgBiB,CAAhB,GAAkBd,OAAO,CAAP,CADtC;AAEA,cAAKxB,KAAL,CAAW8B,QAAX,CAAoBG,IAApB;AACD;AACF;;;;;;mBA/CkBhB,Q;;;;;;;;;;;;;;ACFrB;;;;;;;;KAGqBsB,K;AACnB,oBAAyB;AAAA,SAAbC,OAAa,uEAAH,EAAG;;AAAA;;AACvB,UAAKC,KAAL,GAAa,CAAb;AACA,UAAKnB,OAAL,GAAekB,QAAQlB,OAAR,IAAmB,CAAlC;AACA,UAAKC,OAAL,GAAeiB,QAAQjB,OAAR,IAAmB,EAAlC;AACA,UAAKmB,MAAL,GAAc,CAAE,CAAC,CAAD,EAAI,CAAJ,CAAF,EAAU,CAAC,CAAD,EAAI,CAAJ,CAAV,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,EAA0B,CAAC,CAAC,CAAF,EAAK,CAAL,CAA1B,EAAmC,CAAC,CAAC,CAAF,EAAK,CAAL,CAAnC,EAA4C,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,CAA5C,EAAsD,CAAC,CAAD,EAAI,CAAC,CAAL,CAAtD,EAA+D,CAAC,CAAD,EAAI,CAAC,CAAL,CAA/D,CAAd;AACA,UAAKC,IAAL,GAAY,EAAZ;AACA,UAAKC,YAAL;AACD;;;;oCAEa;AACZ,YAAI,IAAIV,IAAI,CAAZ,EAAeA,IAAI,KAAKZ,OAAxB,EAAiCY,GAAjC,EAAqC;AACnC,cAAKS,IAAL,CAAUE,IAAV,CAAe,EAAf;AACA,cAAI,IAAIP,IAAI,CAAZ,EAAeA,IAAI,KAAKf,OAAxB,EAAiCe,GAAjC,EAAqC;AACnC,gBAAKK,IAAL,CAAUT,CAAV,EAAaW,IAAb,CAAkB,yBAAlB;AACD;AACF;AACF;;;8BAEO;AACN,YAAKJ,KAAL,IAAc,CAAd;AACA,YAAI,IAAIK,SAAS,CAAjB,EAAoBA,SAAS,KAAKxB,OAAlC,EAA2CwB,QAA3C,EAAoD;AAClD,cAAI,IAAIC,SAAS,CAAjB,EAAoBA,SAAS,KAAKxB,OAAlC,EAA2CwB,QAA3C,EAAoD;AAClD,eAAIC,gBAAgB,EAApB;AACA,eAAIC,aAAa,CAACH,MAAD,EAASC,MAAT,CAAjB;;AAEA,gBAAI,IAAIG,WAAW,CAAnB,EAAsBA,WAAW,KAAKR,MAAL,CAAYS,MAA7C,EAAqDD,UAArD,EAAgE;AAC9D,iBAAIE,QAAQ,KAAKV,MAAL,CAAYQ,QAAZ,CAAZ;AACA,iBAAIG,cAAc,CAACJ,WAAW,CAAX,IAAgBG,MAAM,CAAN,CAAjB,EAA2BH,WAAW,CAAX,IAAgBG,MAAM,CAAN,CAA3C,CAAlB;AACA,iBAAG,KAAKE,QAAL,CAAcD,WAAd,CAAH,EAA8B;AAC5B,mBAAIE,WAAW,KAAKZ,IAAL,CAAUU,YAAY,CAAZ,CAAV,EAA0BA,YAAY,CAAZ,CAA1B,CAAf;AACAL,6BAAcH,IAAd,CAAmBU,QAAnB;AACD;AAEF;AACC,eAAIC,YAAW,KAAKb,IAAL,CAAUG,MAAV,EAAkBC,MAAlB,CAAf;AACAS,qBAASC,eAAT,CAAyBT,aAAzB;AACD;AACF;AACF;;;8BAEMU,G,EAAI;AACX,WAAGA,IAAI,CAAJ,IAAS,CAAT,IAAcA,IAAI,CAAJ,KAAU,KAAKpC,OAAhC,EAAwC;AACtC,gBAAO,KAAP;AACD;;AAED,WAAGoC,IAAI,CAAJ,IAAS,CAAT,IAAcA,IAAI,CAAJ,KAAU,KAAKnC,OAAhC,EAAwC;AACtC,gBAAO,KAAP;AACD;;AAED,cAAO,IAAP;AACD;;;0BAEIvB,K,EAAOwB,M,EAAQmC,Q,EAAUtC,U,EAAW;AACvC,WAAIuC,UAAU,CAAC,KAAKtC,OAAL,GAAeuC,KAAKC,KAAL,CAAWH,SAAS,CAAT,IAAcA,SAAS,CAAT,IAAc,CAAvC,CAAhB,IAA6D,CAA3E;AACA,WAAII,UAAU,CAAC,KAAKxC,OAAL,GAAesC,KAAKC,KAAL,CAAWH,SAAS,CAAT,IAAcA,SAAS,CAAT,IAAc,CAAvC,CAAhB,IAA6D,CAA3E;;AAEA,YAAKhB,IAAL,CAAUqB,OAAV,CAAmB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/BD,aAAID,OAAJ,CAAa,UAACR,QAAD,EAAWW,IAAX,EAAqB;AAChC,eAAIC,OAAO,IAAInE,SAASyB,KAAb,EAAX;;AAEA0C,gBAAKzC,QAAL,CAAcC,SAAd,CAAwB4B,SAASa,KAAjC,EAAwCxC,QAAxC,CAAiD,CAACqC,MAAMN,OAAP,IAAkBvC,UAAlB,GAA+BG,OAAO,CAAP,CAAhF,EAA2F,CAAC2C,OAAOJ,OAAR,IAAmB1C,UAAnB,GAAgCG,OAAO,CAAP,CAA3H,EAAsIH,UAAtI,EAAkJA,UAAlJ;;AAEArB,iBAAM8B,QAAN,CAAesC,IAAf;AACD,UAND;AAOD,QARD;AAUD;;;kCAEW;AACV,YAAKzB,IAAL,GAAY,EAAZ;AACA,YAAKF,KAAL,GAAa,EAAb;AACA,YAAKG,YAAL;AACD;;;;;;mBAzEkBL,K;;;;;;;;;;;;;;;;ACHrB;AACA,KAAM+B,QAAS,CACb,QADa,EAEb,OAFa,EAGb,QAHa,EAIb,QAJa,EAKb,QALa,EAMb,MANa,EAOb,KAPa,EAQb,OARa,EASb,MATa,EAUb,OAVa,EAWb,OAXa,EAYb,UAZa,EAab,SAba,EAcb,KAda,EAeb,QAfa,CAAf;;AAkBA;AACA,KAAMC,cAAc;AAClB,aAAU,SADQ;AAElB,YAAU,SAFQ;AAGlB,aAAW,SAHO;AAIlB,aAAW,SAJO;AAKlB,aAAW,SALO;AAMlB,WAAS,SANS;AAOlB,UAAQ,SAPU;AAQlB,YAAU,SARQ;AASlB,WAAS,SATS;AAUlB,YAAU,SAVQ;AAWlB,YAAU,SAXQ;AAYlB,eAAa,SAZK;AAalB,cAAY,SAbM;AAclB,UAAQ,SAdU;AAelB,aAAW,SAfO;AAgBlB,WAAS;AAhBS,EAApB;;AAmBA;AACA,KAAMC,aAAa;AACjB,aAAW,CAAC,OAAD,CADM;AAEjB,aAAW,CAAC,QAAD,CAFM;AAGjB,aAAW,CAAC,SAAD,CAHM;AAIjB,cAAY,CAAC,OAAD,CAJK;AAKjB,YAAU,CAAC,QAAD,EAAW,OAAX,CALO;AAMjB,YAAU,EANO;AAOjB,aAAW,EAPM;AAQjB,WAAS,EARQ;AASjB,UAAQ,EATS;AAUjB,WAAS,EAVQ;AAWjB,YAAU,EAXO;AAYjB,YAAU,EAZO;AAajB,eAAa,EAbI;AAcjB,UAAQ,EAdS;AAejB,aAAW;AAfM,EAAnB;;AAkBA,KAAMC,eAAe;AACnB,aAAW,CAAC,MAAD,CADQ;AAEnB,YAAU,CAAC,QAAD,EAAW,QAAX,EAAqB,KAArB,EAA4B,SAA5B,CAFS;AAGnB,aAAW,CAAC,MAAD,EAAS,UAAT,CAHQ;AAInB,aAAW,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,OAA7B,CAJQ;AAKnB,aAAW,CAAC,KAAD,EAAQ,OAAR,CALQ;AAMnB,WAAS,CAAC,OAAD,EAAU,QAAV,CANU;AAOnB,UAAQ,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,MAA7B,CAPW;AAQnB,YAAU,EARS;AASnB,WAAS,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0B,QAA1B,CATU;AAUnB,YAAU,CAAC,OAAD,EAAU,OAAV,EAAmB,QAAnB,CAVS;AAWnB,YAAU,CAAC,QAAD,EAAW,QAAX,EAAqB,KAArB,EAA4B,MAA5B,EAAoC,OAApC,EAA6C,QAA7C,CAXS;AAYnB,eAAa,CAAC,OAAD,EAAU,UAAV,EAAsB,QAAtB,CAZM;AAanB,cAAY,CAAC,SAAD,CAbO;AAcnB,UAAQ,CAAC,OAAD,EAAU,KAAV,CAdW;AAenB,aAAW;AAfQ,EAArB;;AAkBA,KAAMC,iBAAiB;AACrB,aAAW,EADU;AAErB,YAAU,CAAC,QAAD,EAAW,MAAX,EAAmB,KAAnB,CAFW;AAGrB,aAAW,CAAC,OAAD,EAAU,KAAV,EAAiB,OAAjB,CAHU;AAIrB,aAAW,CAAC,KAAD,EAAQ,OAAR,CAJU;AAKrB,aAAW,CAAC,QAAD,EAAW,MAAX,EAAmB,MAAnB,EAA2B,UAA3B,CALU;AAMrB,WAAS,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,KAA1B,CANY;AAOrB,UAAQ,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB,CAPa;AAQrB,YAAU,CAAC,OAAD,CARW;AASrB,WAAS,CAAC,KAAD,EAAQ,OAAR,EAAiB,KAAjB,CATY;AAUrB,YAAU,CAAC,QAAD,EAAW,MAAX,EAAmB,MAAnB,CAVW;AAWrB,YAAU,CAAC,QAAD,EAAW,MAAX,EAAmB,OAAnB,CAXW;AAYrB,eAAa,CAAC,QAAD,EAAW,OAAX,CAZQ;AAarB,cAAY,CAAC,OAAD,EAAU,QAAV,CAbS;AAcrB,UAAQ,CAAC,QAAD,EAAW,QAAX,EAAqB,OAArB,EAA8B,QAA9B,CAda;AAerB,aAAW,CAAC,QAAD;AAfU,EAAvB;;AAkBA,KAAMC,yBAAyB;AAC7B,aAAW,CADkB;AAE7B,YAAU,CAFmB;AAG7B,aAAW,CAHkB;AAI7B,aAAW,CAJkB;AAK7B,aAAW,CALkB;AAM7B,WAAS,CANoB;AAO7B,UAAQ,CAPqB;AAQ7B,YAAU,CARmB;AAS7B,WAAS,CAToB;AAU7B,YAAU,CAVmB;AAW7B,YAAU,CAXmB;AAY7B,eAAa,CAZgB;AAa7B,cAAY,CAbiB;AAc7B,UAAQ,CAdqB;AAe7B,aAAW;AAfkB,EAA/B;;KAkBqBnB,Q;AAEnB,uBAAmE;AAAA,SAAvDoB,IAAuD,uEAAhDN,MAAMT,KAAKC,KAAL,CAAWD,KAAKgB,MAAL,KAAgBP,MAAMnB,MAAjC,CAAN,CAAgD;;AAAA;;AACjE,UAAK2B,EAAL,GAAU,EAAV;AACA,UAAKF,IAAL,GAAYA,IAAZ;AACA,UAAKP,KAAL,GAAaE,YAAY,KAAKK,IAAjB,CAAb;;AAEA,UAAKG,cAAL,GAAsBJ,sBAAtB;AAED;;;;qCAEeK,S,EAAU;AAAA;;AACxBA,iBAAUhB,OAAV,CAAmB,UAACiB,QAAD,EAAc;AAC/B,aAAIC,SAAS,MAAKC,eAAL,QAA2BF,QAA3B,CAAb;AACA,eAAKH,EAAL,IAAWI,MAAX;;AAEA,aAAG,MAAKJ,EAAL,IAAW,CAAd,EAAgB;;AAEd,iBAAKA,EAAL,GAAU,EAAV;AACA,iBAAKF,IAAL,GAAYK,SAASL,IAArB;AACA,iBAAKP,KAAL,GAAaE,YAAYU,SAASL,IAArB,CAAb;AACA,iBAAKG,cAAL,GAAsBJ,sBAAtB;AACD;AAEF,QAZD;AAaD;;;qCAEeS,Q,EAAUH,Q,EAAS;AACjC,WAAGT,WAAWY,SAASR,IAApB,EAA0BS,QAA1B,CAAmCJ,SAASL,IAA5C,CAAH,EAAqD;AACnD,gBAAO,CAAP;AACD;;AAED,WAAGH,aAAaQ,SAASL,IAAtB,EAA4BS,QAA5B,CAAqCD,SAASR,IAA9C,CAAH,EAAuD;AACrDQ,kBAASL,cAAT,CAAwBE,SAASL,IAAjC,KAA0C,GAA1C;AACA,gBAAO,GAAP;AACD;;AAED,WAAGF,eAAeO,SAASL,IAAxB,EAA8BS,QAA9B,CAAuCD,SAASR,IAAhD,CAAH,EAAyD;AACvDQ,kBAASL,cAAT,CAAwBE,SAASL,IAAjC,KAA0C,GAA1C;AACA,gBAAO,CAAP;AACD;;AAED,cAAO,CAAP;AACD;;;;;;mBA3CkBpB,Q;;;;;;;;;;;;;;;;;KChHA8B,qB;AAEnB,kCAAYjF,IAAZ,EAAiB;AAAA;;AACf,UAAKkF,WAAL,GAAmBC,EAAE,cAAF,CAAnB;AACA,UAAKC,YAAL,GAAoBD,EAAE,eAAF,CAApB;AACA,UAAKnF,IAAL,GAAYA,IAAZ;AACA,UAAKqF,oBAAL;AACD;;;;4CAEqB;AACpB,YAAKH,WAAL,CAAiBI,EAAjB,CAAoB,OAApB,EAA6B,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA7B;AACA,YAAKJ,YAAL,CAAkBE,EAAlB,CAAqB,OAArB,EAA8B,KAAKG,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAA9B;AACD;;;iCAEU;AACT,WAAG,CAAC5F,SAASO,MAAT,CAAgBE,MAApB,EAA2B;AACzB8E,WAAE,cAAF,EAAkBO,IAAlB,CAAuB,MAAvB;AACA9F,kBAASO,MAAT,CAAgBE,MAAhB,GAAyB,IAAzB;AACD,QAHD,MAGO;AACL8E,WAAE,cAAF,EAAkBO,IAAlB,CAAuB,OAAvB;AACA9F,kBAASO,MAAT,CAAgBE,MAAhB,GAAyB,KAAzB;AACD;AACF;;;kCAEW;AACV,YAAKL,IAAL,CAAUQ,eAAV,CAA0BiF,UAA1B;AACA,YAAKzF,IAAL,CAAUE,SAAV;AACD;;;;;;mBA3BkB+E,qB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1fdaf110f64f6ce6bd2e","import GameView from './game_view';\nimport pokeAutomataInterface from './poke_automata_interface';\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const ctx = document.getElementById('ctx');\n\n  const stage = new createjs.Stage(ctx);\n  stage.mouseEventsEnabled = true;\n  stage.keyboardEventsEnabled = true;\n  const view = new GameView(stage);\n  const pokeUI = new pokeAutomataInterface(view);\n  view.drawBoard();\n\n  createjs.Ticker.framerate = 10;\n  createjs.Ticker.paused = true;\n  createjs.Ticker.addEventListener(\"tick\", (event) => {\n    if(!event.paused){\n      stage.removeAllChildren();\n      view.pokeBattlefield.battle();\n      view.redrawBoard();\n      stage.update();\n    }\n  });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","import Board from './board';\n\nexport default class GameView{\n\n\n  constructor(stage){\n    this.stage = stage;\n    this.DIM_X = 1000;\n    this.DIM_Y = 600;\n    this.LINE_COLOR = \"#ddd\";\n    this.squareSize = 10;\n    this.numRows = this.DIM_X / this.squareSize;\n    this.numCols = this.DIM_Y / this.squareSize;\n    this.offset = [((this.numRows) % 2) / 2 * this.squareSize, ((this.numCols) % 2) / 2 * this.squareSize]\n    this.offset = [0, 0];\n    this.pokeBattlefield = new Board( { numRows: this.numRows, numCols: this.numCols } );\n\n    this.drawBoard();\n  }\n\n  drawBoard(){\n    let board = new createjs.Shape();\n    board.graphics.beginFill(\"#fff\").drawRect(0, 0, this.DIM_X, this.DIM_Y);\n    this.stage.addChild(board);\n    this.drawGridLines(this.offset);\n    this.stage.update();\n  };\n\n  redrawBoard(){\n    this.pokeBattlefield.draw(this.stage, this.offset, [this.numRows, this.numCols], this.squareSize);\n    this.drawGridLines(this.offset);\n  }\n\n  drawGridLines(offset){\n    let line;\n\n    for(let i = 0; i < this.numRows + 1; i++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#000\").moveTo(this.squareSize*i + offset[0], 0)\n      .lineTo(this.squareSize*i + offset[0], this.DIM_Y);\n      this.stage.addChild(line);\n    }\n\n    for(let j = 0; j < this.numCols + 1; j++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#000\").moveTo(0, this.squareSize*j+offset[1])\n      .lineTo(this.DIM_X, this.squareSize*j+offset[1]);\n      this.stage.addChild(line);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js","import pokeCell from './poke_cell';\n\n\nexport default class Board{\n  constructor(options = {}){\n    this.cycle = 0;\n    this.numRows = options.numRows || 8;\n    this.numCols = options.numCols || 10;\n    this.DELTAS = [ [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [-1, -1], [0, -1], [1, -1] ];\n    this.grid = [];\n    this.generateGrid();\n  }\n\n  generateGrid(){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(var j = 0; j < this.numCols; j++){\n        this.grid[i].push(new pokeCell())\n      }\n    }\n  }\n\n  battle(){\n    this.cycle += 1;\n    for(let rowIdx = 0; rowIdx < this.numRows; rowIdx++){\n      for(let colIdx = 0; colIdx < this.numCols; colIdx++){\n        let pokeNeighbors = [];\n        let currentPos = [rowIdx, colIdx];\n\n        for(let deltaIdx = 0; deltaIdx < this.DELTAS.length; deltaIdx++){\n          let delta = this.DELTAS[deltaIdx];\n          let neighborPos = [currentPos[0] + delta[0], currentPos[1] + delta[1]];\n          if(this.inBounds(neighborPos)){\n            let neighbor = this.grid[neighborPos[0]][neighborPos[1]];\n            pokeNeighbors.push(neighbor);\n          }\n\n        }\n          let pokeCell = this.grid[rowIdx][colIdx]\n          pokeCell.battleNeighbors(pokeNeighbors);\n        }\n      }\n    }\n\n  inBounds(pos){\n    if(pos[0] < 0 || pos[0] >= this.numRows){\n      return false;\n    }\n\n    if(pos[1] < 0 || pos[1] >= this.numCols){\n      return false;\n    }\n\n    return true;\n  }\n\n  draw(stage, offset, numPokes, squareSize){\n    let offsetX = (this.numRows - Math.floor(numPokes[0] - numPokes[0] % 2)) / 2;\n    let offsetY = (this.numCols - Math.floor(numPokes[1] - numPokes[1] % 2)) / 2;\n\n    this.grid.forEach( (row, idx) => {\n      row.forEach( (pokeCell, idx2 ) => {\n        let cell = new createjs.Shape();\n\n        cell.graphics.beginFill(pokeCell.color).drawRect((idx - offsetX) * squareSize + offset[0], (idx2 - offsetY) * squareSize + offset[1], squareSize, squareSize);\n\n        stage.addChild(cell);\n      })\n    })\n\n  }\n\n  resetBoard(){\n    this.grid = [];\n    this.cycle = [];\n    this.generateGrid();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","//types\nconst types = ([\n  \"NORMAL\",\n  \"FIGHT\",\n  \"FLYING\",\n  \"POISON\",\n  \"GROUND\",\n  \"ROCK\",\n  \"BUG\",\n  \"GHOST\",\n  \"FIRE\",\n  \"WATER\",\n  \"GRASS\",\n  \"ELECTRIC\",\n  \"PSYCHIC\",\n  \"ICE\",\n  \"DRAGON\"\n]);\n\n//cell colors\nconst pokePalette = {\n  \"NORMAL\": \"#a9a978\",\n  \"FIGHT\" : \"#c03028\",\n  \"FLYING\" : \"#a890f0\",\n  \"POISON\" : \"#a040a0\",\n  \"GROUND\" : \"#e0c068\",\n  \"ROCK\" : \"#b8a038\",\n  \"BUG\" : \"#a8b820\",\n  \"GHOST\" : \"#6f5796\",\n  \"FIRE\" : \"#f08030\",\n  \"WATER\" : \"#6890f0\",\n  \"GRASS\" : \"#76c74e\",\n  \"ELECTRIC\" : \"#f8ce2a\",\n  \"PSYCHIC\" : \"#f85888\",\n  \"ICE\" : \"#97d7d8\",\n  \"DRAGON\" : \"#6e36f8\",\n  \"NONE\" : \"#fff\"\n}\n\n//type match-ups\nconst immuneFrom = {\n  \"NORMAL\" : [\"GHOST\"],\n  \"FLYING\" : [\"GROUND\"],\n  \"GROUND\" : [\"ELCTRIC\"],\n  \"PSYCHIC\" : [\"GHOST\"],\n  \"GHOST\" : [\"NORMAL\", \"FIGHT\"],\n  \"FIGHT\" : [],\n  \"POISON\" : [],\n  \"ROCK\" : [],\n  \"BUG\" : [],\n  \"FIRE\" : [],\n  \"WATER\" : [],\n  \"GRASS\" : [],\n  \"ELECTRIC\" : [],\n  \"ICE\" : [],\n  \"DRAGON\" : []\n}\n\nconst halfDamageTo = {\n  \"NORMAL\" : [\"ROCK\"],\n  \"FIGHT\" : [\"FLYING\", \"POISON\", \"BUG\", \"PSYCHIC\"],\n  \"FLYING\" : [\"ROCK\", \"ELECTRIC\"],\n  \"POISON\" : [\"POISON\", \"GROUND\", \"ROCK\", \"GHOST\"],\n  \"GROUND\" : [\"BUG\", \"GRASS\"],\n  \"ROCK\" : [\"FIGHT\", \"GROUND\"],\n  \"BUG\" : [\"FIGHT\", \"FLYING\", \"GHOST\", \"FIRE\"],\n  \"GHOST\" : [],\n  \"FIRE\" : [\"ROCK\", \"FIRE\", \"WATER\", \"DRAGON\"],\n  \"WATER\" : [\"WATER\", \"GRASS\", \"DRAGON\"],\n  \"GRASS\" : [\"FLYING\", \"POISON\", \"BUG\", \"FIRE\", \"GRASS\", \"DRAGON\"],\n  \"ELECTRIC\" : [\"GRASS\", \"ELECTRIC\", \"DRAGON\"],\n  \"PSYCHIC\" : [\"PSYCHIC\"],\n  \"ICE\" : [\"WATER\", \"ICE\"],\n  \"DRAGON\" : []\n}\n\nconst doubleDamageTo = {\n  \"NORMAL\" : [],\n  \"FIGHT\" : [\"NORMAL\", \"ROCK\", \"ICE\"],\n  \"FLYING\" : [\"FIGHT\", \"BUG\", \"GRASS\"],\n  \"POISON\" : [\"BUG\", \"GRASS\"],\n  \"GROUND\" : [\"POISON\", \"ROCK\", \"FIRE\", \"ELECTRIC\"],\n  \"ROCK\" : [\"FLYING\", \"BUG\", \"FIRE\", \"ICE\"],\n  \"BUG\" : [\"POISON\", \"GRASS\", \"PSYCHIC\"],\n  \"GHOST\" : [\"GHOST\"],\n  \"FIRE\" : [\"BUG\", \"GRASS\", \"ICE\"],\n  \"WATER\" : [\"GROUND\", \"ROCK\", \"FIRE\"],\n  \"GRASS\" : [\"GROUND\", \"ROCK\", \"WATER\"],\n  \"ELECTRIC\" : [\"FLYING\", \"WATER\"],\n  \"PSYCHIC\" : [\"FIGHT\", \"POISON\"],\n  \"ICE\" : [\"FLYING\", \"GROUND\", \"GRASS\", \"DRAGON\"],\n  \"DRAGON\" : [\"DRAGON\"]\n}\n\nconst defaultDamageStandings = {\n  \"NORMAL\" : 0,\n  \"FIGHT\" : 0,\n  \"FLYING\" : 0,\n  \"POISON\" : 0,\n  \"GROUND\" : 0,\n  \"ROCK\" : 0,\n  \"BUG\" : 0,\n  \"GHOST\" : 0,\n  \"FIRE\" : 0,\n  \"WATER\" : 0,\n  \"GRASS\" : 0,\n  \"ELECTRIC\" : 0,\n  \"PSYCHIC\" : 0,\n  \"ICE\" : 0,\n  \"DRAGON\" : 0\n}\n\nexport default class pokeCell{\n\n  constructor(type = types[Math.floor(Math.random() * types.length)]){\n    this.HP = 20;\n    this.type = type;\n    this.color = pokePalette[this.type];\n\n    this.damageFromType = defaultDamageStandings;\n\n  }\n\n  battleNeighbors(neighbors){\n    neighbors.forEach( (attacker) => {\n      let damage = this.calculateDamage(this, attacker);\n      this.HP -= damage;\n\n      if(this.HP <= 0){\n\n        this.HP = 20;\n        this.type = attacker.type;\n        this.color = pokePalette[attacker.type]\n        this.damageFromType = defaultDamageStandings\n      }\n\n    })\n  }\n\n  calculateDamage(defender, attacker){\n    if(immuneFrom[defender.type].includes(attacker.type)){\n      return 0\n    }\n\n    if(halfDamageTo[attacker.type].includes(defender.type)){\n      defender.damageFromType[attacker.type] += 0.5;\n      return 0.5;\n    }\n\n    if(doubleDamageTo[attacker.type].includes(defender.type)){\n      defender.damageFromType[attacker.type] += 0.5;\n      return 2;\n    }\n\n    return 1;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_cell.js","export default class pokeAutomataInterface{\n\n  constructor(view){\n    this.$playButton = $('#play-button');\n    this.$resetButton = $('#reset-button');\n    this.view = view;\n    this.installClickHandlers();\n  }\n\n  installClickHandlers(){\n    this.$playButton.on('click', this.playPause.bind(this));\n    this.$resetButton.on('click', this.resetBoard.bind(this));\n  }\n\n  playPause(){\n    if(!createjs.Ticker.paused){\n      $('#play-button').text(\"PLAY\");\n      createjs.Ticker.paused = true;\n    } else {\n      $('#play-button').text(\"PAUSE\");\n      createjs.Ticker.paused = false;\n    }\n  }\n\n  resetBoard(){\n    this.view.pokeBattlefield.resetBoard()\n    this.view.drawBoard();\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_automata_interface.js"],"sourceRoot":""}