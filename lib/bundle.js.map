{"version":3,"sources":["webpack:///webpack/bootstrap 4c5cfa7403c97808e0a1","webpack:///./lib/main.js","webpack:///./lib/game_view.js","webpack:///./lib/board.js","webpack:///./lib/poke_cell.js","webpack:///./lib/poke_automata_interface.js"],"names":["document","addEventListener","ctx","getElementById","stage","createjs","Stage","mouseEventsEnabled","keyboardEventsEnabled","view","pokeUI","drawBoard","Ticker","framerate","paused","event","removeAllChildren","pokeBattlefield","battle","redrawBoard","update","GameView","DIM_X","DIM_Y","LINE_COLOR","squareSize","numRows","numCols","offset","typeToAssign","installHandlers","on","handleAssign","bind","clickPos","mouseX","mouseY","cellX","Math","floor","cellY","assignCell","clickedPokeCell","grid","drawCell","board","Shape","graphics","beginFill","drawRect","addChild","drawGridLines","draw","line","i","beginStroke","moveTo","lineTo","j","Board","options","cycle","DELTAS","generateGrid","push","type","rowIdx","colIdx","pokeNeighbors","currentPos","deltaIdx","length","delta","neighborPos","inBounds","neighbor","pokeCell","battleNeighbors","pos","idx","idx2","cell","color","numPokes","offsetX","offsetY","forEach","row","types","pokePalette","immuneFrom","halfDamageTo","doubleDamageTo","defaultDamageStandings","random","HP","damageFromType","Object","assign","neighbors","attacker","damage","calculateDamage","keys","sort","a","b","defender","includes","pokeAutomataInterface","$playButton","$","$resetButton","$toggleHoverAssign","$typeSelect","$stepForward","playPause","resetBoard","toggleHoverAssign","setTypeToAssign","stepForward","text","_mouseOverIntervalID","enableMouseOver","currentTarget","value"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c5cfa7403c97808e0a1","import GameView from './game_view';\nimport pokeAutomataInterface from './poke_automata_interface';\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const ctx = document.getElementById('ctx');\n\n  const stage = new createjs.Stage(ctx);\n  stage.mouseEventsEnabled = true;\n  stage.keyboardEventsEnabled = true;\n  const view = new GameView(stage);\n  const pokeUI = new pokeAutomataInterface(view);\n  view.drawBoard();\n\n  createjs.Ticker.framerate = 10;\n  createjs.Ticker.paused = true;\n  createjs.Ticker.addEventListener(\"tick\", (event) => {\n    if(!event.paused){\n      stage.removeAllChildren();\n      view.pokeBattlefield.battle();\n      view.redrawBoard();\n      stage.update();\n    }\n  });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","import Board from './board';\n\nexport default class GameView{\n\n\n  constructor(stage){\n    this.stage = stage;\n    this.DIM_X = 1000;\n    this.DIM_Y = 600;\n    this.LINE_COLOR = \"#ddd\";\n    this.squareSize = 10;\n    this.numRows = this.DIM_X / this.squareSize;\n    this.numCols = this.DIM_Y / this.squareSize;\n    this.offset = [((this.numRows) % 2) / 2 * this.squareSize, ((this.numCols) % 2) / 2 * this.squareSize]\n    this.offset = [0, 0];\n    this.pokeBattlefield = new Board( { numRows: this.numRows, numCols: this.numCols } );\n    this.typeToAssign = \"NORMAL\";\n    this.installHandlers();\n    this.drawBoard();\n  }\n\n  installHandlers(){\n    this.stage.on('mouseover', this.handleAssign.bind(this))\n    this.stage.on('click', this.handleAssign.bind(this))\n  }\n\n  handleAssign(){\n    let clickPos = [this.stage.mouseX, this.stage.mouseY];\n\n    let cellX = Math.floor((clickPos[0] - this.numRows % 2/2*this.squareSize)/this.squareSize);\n    let cellY = Math.floor((clickPos[1] - this.numCols % 2/2*this.squareSize)/this.squareSize);\n    this.pokeBattlefield.assignCell(cellX, cellY, this.typeToAssign);\n    let clickedPokeCell = this.pokeBattlefield.grid[cellX][cellY]\n    this.pokeBattlefield.drawCell(clickedPokeCell, this.stage, this.squareSize, cellX, cellY);\n    this.stage.update();\n  }\n\n  drawBoard(){\n    let board = new createjs.Shape();\n    board.graphics.beginFill(\"#fff\").drawRect(0, 0, this.DIM_X, this.DIM_Y);\n    this.stage.addChild(board);\n    this.drawGridLines(this.offset);\n    this.stage.update();\n  };\n\n  redrawBoard(){\n    this.pokeBattlefield.draw(this.stage, this.offset, [this.numRows, this.numCols], this.squareSize);\n    this.drawGridLines(this.offset);\n  }\n\n  drawGridLines(offset){\n    let line;\n\n    for(let i = 0; i < this.numRows + 1; i++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#000\").moveTo(this.squareSize*i + offset[0], 0)\n      .lineTo(this.squareSize*i + offset[0], this.DIM_Y);\n      this.stage.addChild(line);\n    }\n\n    for(let j = 0; j < this.numCols + 1; j++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#000\").moveTo(0, this.squareSize*j+offset[1])\n      .lineTo(this.DIM_X, this.squareSize*j+offset[1]);\n      this.stage.addChild(line);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js","import pokeCell from './poke_cell';\n\n\nexport default class Board{\n  constructor(options = {}){\n    this.cycle = 0;\n    this.numRows = options.numRows || 8;\n    this.numCols = options.numCols || 10;\n    this.DELTAS = [ [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [-1, -1], [0, -1], [1, -1] ];\n    this.grid = [];\n    this.generateGrid();\n  }\n\n  generateGrid(){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(var j = 0; j < this.numCols; j++){\n        this.grid[i].push(new pokeCell())\n      }\n    }\n  }\n\n  assignCell(cellX, cellY, type){\n    this.grid[cellX][cellY] = new pokeCell(type);\n  }\n\n  battle(){\n    this.cycle += 1;\n    for(let rowIdx = 0; rowIdx < this.numRows; rowIdx++){\n      for(let colIdx = 0; colIdx < this.numCols; colIdx++){\n        let pokeNeighbors = [];\n        let currentPos = [rowIdx, colIdx];\n\n        for(let deltaIdx = 0; deltaIdx < this.DELTAS.length; deltaIdx++){\n          let delta = this.DELTAS[deltaIdx];\n          let neighborPos = [currentPos[0] + delta[0], currentPos[1] + delta[1]];\n          if(this.inBounds(neighborPos)){\n            let neighbor = this.grid[neighborPos[0]][neighborPos[1]];\n            pokeNeighbors.push(neighbor);\n          }\n\n        }\n          let pokeCell = this.grid[rowIdx][colIdx]\n          pokeCell.battleNeighbors(pokeNeighbors);\n        }\n      }\n    }\n\n  inBounds(pos){\n    if(pos[0] < 0 || pos[0] >= this.numRows){\n      return false;\n    }\n\n    if(pos[1] < 0 || pos[1] >= this.numCols){\n      return false;\n    }\n\n    return true;\n  }\n\n  drawCell(pokeCell, stage, squareSize, idx, idx2){\n    let cell = new createjs.Shape();\n\n    cell.graphics.beginFill(pokeCell.color).beginStroke(\"#eee\")\n    .drawRect(idx * squareSize, idx2 * squareSize, squareSize, squareSize);\n    stage.addChild(cell);\n  }\n\n  draw(stage, offset, numPokes, squareSize){\n    let offsetX = (this.numRows - Math.floor(numPokes[0] - numPokes[0] % 2)) / 2;\n    let offsetY = (this.numCols - Math.floor(numPokes[1] - numPokes[1] % 2)) / 2;\n\n    this.grid.forEach( (row, idx) => {\n      row.forEach( (pokeCell, idx2 ) => {\n        this.drawCell(pokeCell, stage, squareSize, idx, idx2)\n      })\n    })\n\n  }\n\n  resetBoard(){\n    this.grid = [];\n    this.cycle = [];\n    this.generateGrid();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","//types\nconst types = ([\n  \"NORMAL\",\n  \"FIGHT\",\n  \"FLYING\",\n  \"POISON\",\n  \"GROUND\",\n  \"ROCK\",\n  \"BUG\",\n  \"GHOST\",\n  \"FIRE\",\n  \"WATER\",\n  \"GRASS\",\n  \"ELECTRIC\",\n  \"PSYCHIC\",\n  \"ICE\",\n  \"DRAGON\"\n]);\n\n//cell colors\nconst pokePalette = {\n  \"NORMAL\": \"#a9a978\",\n  \"FIGHT\" : \"#c03028\",\n  \"FLYING\" : \"#a890f0\",\n  \"POISON\" : \"#a040a0\",\n  \"GROUND\" : \"#e0c068\",\n  \"ROCK\" : \"#b8a038\",\n  \"BUG\" : \"#a8b820\",\n  \"GHOST\" : \"#6f5796\",\n  \"FIRE\" : \"#f08030\",\n  \"WATER\" : \"#6890f0\",\n  \"GRASS\" : \"#76c74e\",\n  \"ELECTRIC\" : \"#f8ce2a\",\n  \"PSYCHIC\" : \"#f85888\",\n  \"ICE\" : \"#97d7d8\",\n  \"DRAGON\" : \"#6e36f8\",\n  \"NONE\" : \"#fff\"\n}\n\n//type match-ups\nconst immuneFrom = {\n  \"NORMAL\" : [\"GHOST\"],\n  \"FLYING\" : [\"GROUND\"],\n  \"GROUND\" : [\"ELCTRIC\"],\n  \"PSYCHIC\" : [\"GHOST\"],\n  \"GHOST\" : [\"NORMAL\", \"FIGHT\"],\n  \"FIGHT\" : [],\n  \"POISON\" : [],\n  \"ROCK\" : [],\n  \"BUG\" : [],\n  \"FIRE\" : [],\n  \"WATER\" : [],\n  \"GRASS\" : [],\n  \"ELECTRIC\" : [],\n  \"ICE\" : [],\n  \"DRAGON\" : []\n}\n\nconst halfDamageTo = {\n  \"NORMAL\" : [\"ROCK\"],\n  \"FIGHT\" : [\"FLYING\", \"POISON\", \"BUG\", \"PSYCHIC\"],\n  \"FLYING\" : [\"ROCK\", \"ELECTRIC\"],\n  \"POISON\" : [\"POISON\", \"GROUND\", \"ROCK\", \"GHOST\"],\n  \"GROUND\" : [\"BUG\", \"GRASS\"],\n  \"ROCK\" : [\"FIGHT\", \"GROUND\"],\n  \"BUG\" : [\"FIGHT\", \"FLYING\", \"GHOST\", \"FIRE\"],\n  \"GHOST\" : [],\n  \"FIRE\" : [\"ROCK\", \"FIRE\", \"WATER\", \"DRAGON\"],\n  \"WATER\" : [\"WATER\", \"GRASS\", \"DRAGON\"],\n  \"GRASS\" : [\"FLYING\", \"POISON\", \"BUG\", \"FIRE\", \"GRASS\", \"DRAGON\"],\n  \"ELECTRIC\" : [\"GRASS\", \"ELECTRIC\", \"DRAGON\"],\n  \"PSYCHIC\" : [\"PSYCHIC\"],\n  \"ICE\" : [\"WATER\", \"ICE\"],\n  \"DRAGON\" : []\n}\n\nconst doubleDamageTo = {\n  \"NORMAL\" : [],\n  \"FIGHT\" : [\"NORMAL\", \"ROCK\", \"ICE\"],\n  \"FLYING\" : [\"FIGHT\", \"BUG\", \"GRASS\"],\n  \"POISON\" : [\"BUG\", \"GRASS\"],\n  \"GROUND\" : [\"POISON\", \"ROCK\", \"FIRE\", \"ELECTRIC\"],\n  \"ROCK\" : [\"FLYING\", \"BUG\", \"FIRE\", \"ICE\"],\n  \"BUG\" : [\"POISON\", \"GRASS\", \"PSYCHIC\"],\n  \"GHOST\" : [\"GHOST\"],\n  \"FIRE\" : [\"BUG\", \"GRASS\", \"ICE\"],\n  \"WATER\" : [\"GROUND\", \"ROCK\", \"FIRE\"],\n  \"GRASS\" : [\"GROUND\", \"ROCK\", \"WATER\"],\n  \"ELECTRIC\" : [\"FLYING\", \"WATER\"],\n  \"PSYCHIC\" : [\"FIGHT\", \"POISON\"],\n  \"ICE\" : [\"FLYING\", \"GROUND\", \"GRASS\", \"DRAGON\"],\n  \"DRAGON\" : [\"DRAGON\"]\n}\n\nconst defaultDamageStandings = {\n  \"NORMAL\" : 0,\n  \"FIGHT\" : 0,\n  \"FLYING\" : 0,\n  \"POISON\" : 0,\n  \"GROUND\" : 0,\n  \"ROCK\" : 0,\n  \"BUG\" : 0,\n  \"GHOST\" : 0,\n  \"FIRE\" : 0,\n  \"WATER\" : 0,\n  \"GRASS\" : 0,\n  \"ELECTRIC\" : 0,\n  \"PSYCHIC\" : 0,\n  \"ICE\" : 0,\n  \"DRAGON\" : 0\n}\n\nexport default class pokeCell{\n\n  constructor(type = types[Math.floor(Math.random() * types.length)]){\n    this.HP = 20;\n    this.type = type;\n    this.color = pokePalette[this.type];\n\n    this.damageFromType = Object.assign({}, defaultDamageStandings);\n\n  }\n\n  battleNeighbors(neighbors){\n    debugger\n    neighbors.forEach( (attacker) => {\n      let damage = this.calculateDamage(this, attacker);\n      this.HP -= damage;\n      this.damageFromType[attacker.type] += damage\n\n      if(this.HP <= 0){\n\n        this.HP = 20;\n        this.type = Object.keys(this.damageFromType)\n        .sort((a, b) => {return this.damageFromType[b] - this.damageFromType[a]})[0]\n        \n        this.color = pokePalette[attacker.type]\n        this.damageFromType = Object.assign({}, defaultDamageStandings);\n      }\n\n    })\n  }\n\n  calculateDamage(defender, attacker){\n    if(immuneFrom[defender.type].includes(attacker.type)){\n      return 0\n    }\n\n    if(halfDamageTo[attacker.type].includes(defender.type)){\n      defender.damageFromType[attacker.type] += 0.5;\n      return 0.5;\n    }\n\n    if(doubleDamageTo[attacker.type].includes(defender.type)){\n      defender.damageFromType[attacker.type] += 0.5;\n      return 2;\n    }\n\n    return 1;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_cell.js","export default class pokeAutomataInterface{\n\n  constructor(view){\n    this.$playButton = $('#play-button');\n    this.$resetButton = $('#reset-button');\n    this.$toggleHoverAssign = $('#lock-select');\n    this.$typeSelect = $('#type-select');\n    this.$stepForward = $('#step-forward');\n    this.view = view;\n    this.installHandlers();\n  }\n\n  installHandlers(){\n    this.$playButton.on('click', this.playPause.bind(this));\n    this.$resetButton.on('click', this.resetBoard.bind(this));\n    this.$toggleHoverAssign.on('click', this.toggleHoverAssign.bind(this));\n    this.$typeSelect.on('change', this.setTypeToAssign.bind(this));\n    this.$stepForward.on('click', this.stepForward.bind(this));\n  }\n\n  playPause(){\n    if(!createjs.Ticker.paused){\n      this.$playButton.text(\"PLAY\");\n      createjs.Ticker.paused = true;\n    } else {\n      this.$playButton.text(\"PAUSE\");\n      createjs.Ticker.paused = false;\n    }\n  }\n\n  resetBoard(){\n    this.view.pokeBattlefield.resetBoard()\n    this.view.drawBoard();\n  }\n\n  toggleHoverAssign(){\n    if(this.view.stage._mouseOverIntervalID){\n      this.$toggleHoverAssign.text(\"Enable Hover Assign\")\n      this.view.stage.enableMouseOver(0);\n    } else {\n      this.$toggleHoverAssign.text(\"Disable Hover Assign\")\n      this.view.stage.enableMouseOver(100);\n    }\n  }\n\n  setTypeToAssign(){\n    this.view.typeToAssign = event.currentTarget.value;\n  }\n\n  stepForward(){\n    this.view.stage.removeAllChildren();\n    this.view.pokeBattlefield.battle();\n    this.view.redrawBoard();\n    this.view.stage.update();\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_automata_interface.js"],"sourceRoot":""}