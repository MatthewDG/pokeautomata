{"version":3,"sources":["webpack:///webpack/bootstrap 8e4f3be9be31d672abb0","webpack:///./lib/main.js","webpack:///./lib/game_view.js","webpack:///./lib/board.js","webpack:///./lib/poke_cell.js","webpack:///./lib/poke_automata_interface.js","webpack:///./~/jquery-zoom/jquery.zoom.js"],"names":["document","addEventListener","ctx","getElementById","stage","createjs","Stage","mouseEventsEnabled","keyboardEventsEnabled","view","pokeUI","drawBoard","Ticker","framerate","paused","event","removeAllChildren","pokeBattlefield","battle","redrawBoard","update","GameView","DIM_X","DIM_Y","squareSize","numRows","numCols","offset","typeToAssign","showGridLines","installHandlers","on","handleAssign","bind","clickPos","mouseX","mouseY","cellX","Math","floor","cellY","assignCell","clickedPokeCell","grid","drawCell","board","Shape","graphics","beginFill","drawRect","addChild","drawGridLines","draw","line","i","beginStroke","moveTo","lineTo","j","STARTER_TYPES","FIRST_GEN_DISTRIBUTION","SECOND_GEN_DISTRIBUTION","Board","options","cycle","DELTAS","initialState","fillBoardType","generateGrid","generateRandomGrid","generateStarterPokemonGrid","generateFirstGenGrid","generateSecondGenGrid","fillBoardWithType","generateEmptyGrid","push","type","sampleStarter","random","gridDistribution","Object","assign","genOneTypes","keys","forEach","ceil","sampleType","length","rowIdx","colIdx","pokeCell","currentPos","pokeNeighbors","deltaIdx","delta","neighborPos","inBounds","neighbor","battleNeighbors","pos","idx","idx2","cell","color","numPokes","offsetX","offsetY","row","types","pokePalette","immuneFrom","halfDamageTo","doubleDamageTo","HP","neighbors","attacker","damage","calculateDamage","defender","includes","pokeAutomataInterface","$playButton","$","$resetButton","$toggleHoverAssign","$typeSelect","$stepForward","$toggleGrid","$initialStateSelect","$modalBackground","$modalContent","$modalText1","$modalText2","$rulesList","$prevButton","$nextButton","$openInstructions","$toggleColorGuide","openModal","playPause","resetBoard","toggleHoverAssign","setTypeToAssign","stepForward","toggleGridLines","setInitialState","closeModal","modalPrevious","modalNext","toggleColorGuide","text","_mouseOverIntervalID","enableMouseOver","currentTarget","value","css","id","parseInt","processModalContent","modalId","attr","prop","html","zoom","magnify","duration","noExitTargets","target","parentElement"],"mappings":"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C,aAAb,KAA+BtC,aADjC,IAEEnH,MAAMwJ,MAAN,KAAiB7C,EAAE,OAAF,EAAW,CAAX,CAFtB,EAEoC;AAClC,cAAKO,gBAAL,CAAsB0B,GAAtB,CAA0B,SAA1B,EAAqC,MAArC;AACD;AACF;;;;;;mBAnLkBnC,qB;;;;;;ACFrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8e4f3be9be31d672abb0","import GameView from './game_view';\nimport pokeAutomataInterface from './poke_automata_interface';\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const ctx = document.getElementById('ctx');\n\n  const stage = new createjs.Stage(ctx);\n  stage.mouseEventsEnabled = true;\n  stage.keyboardEventsEnabled = true;\n  const view = new GameView(stage);\n  const pokeUI = new pokeAutomataInterface(view);\n  view.drawBoard();\n  createjs.Ticker.framerate = 10;\n  createjs.Ticker.paused = true;\n  createjs.Ticker.addEventListener(\"tick\", (event) => {\n    if(!event.paused){\n      stage.removeAllChildren();\n      view.pokeBattlefield.battle();\n      view.redrawBoard();\n      stage.update();\n    }\n  });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","import Board from './board';\n\nexport default class GameView{\n\n\n  constructor(stage){\n    this.stage = stage;\n    this.DIM_X = 1000;\n    this.DIM_Y = 600;\n    this.squareSize = 10;\n    this.numRows = this.DIM_X / this.squareSize;\n    this.numCols = this.DIM_Y / this.squareSize;\n    this.offset = [((this.numRows) % 2) / 2 * this.squareSize, ((this.numCols) % 2) / 2 * this.squareSize]\n    this.offset = [0, 0];\n    this.typeToAssign = \"NORMAL\";\n    this.showGridLines = true;\n    this.pokeBattlefield = new Board( { numRows: this.numRows, numCols: this.numCols } );\n    this.installHandlers();\n    this.drawBoard();\n  }\n\n  installHandlers(){\n    this.stage.on('mouseover', this.handleAssign.bind(this))\n    this.stage.on('click', this.handleAssign.bind(this))\n  }\n\n  handleAssign(){\n    let clickPos = [this.stage.mouseX, this.stage.mouseY];\n\n    let cellX = Math.floor((clickPos[0] - this.numRows % 2/2*this.squareSize)/this.squareSize);\n    let cellY = Math.floor((clickPos[1] - this.numCols % 2/2*this.squareSize)/this.squareSize);\n    this.pokeBattlefield.assignCell(cellX, cellY, this.typeToAssign);\n    let clickedPokeCell = this.pokeBattlefield.grid[cellX][cellY]\n    this.pokeBattlefield.drawCell(clickedPokeCell, this.stage, this.squareSize, cellX, cellY);\n    this.stage.update();\n  }\n\n  drawBoard(){\n    let board = new createjs.Shape();\n    board.graphics.beginFill(\"#000\").drawRect(0, 0, this.DIM_X, this.DIM_Y);\n    this.stage.addChild(board);\n    if(this.showGridLines){\n      this.drawGridLines(this.offset);\n    }\n    this.stage.update();\n  };\n\n  redrawBoard(){\n    this.pokeBattlefield.draw(this.stage, this.offset, [this.numRows, this.numCols], this.squareSize);\n\n    if(this.showGridLines){\n      this.drawGridLines(this.offset);\n    }\n  }\n\n  drawGridLines(offset){\n    let line;\n\n    for(let i = 0; i < this.numRows + 1; i++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#ddd\").moveTo(this.squareSize*i + offset[0], 0)\n      .lineTo(this.squareSize*i + offset[0], this.DIM_Y);\n      this.stage.addChild(line);\n    }\n\n    for(let j = 0; j < this.numCols + 1; j++){\n      line = new createjs.Shape();\n      line.graphics.beginStroke(\"#ddd\").moveTo(0, this.squareSize*j+offset[1])\n      .lineTo(this.DIM_X, this.squareSize*j+offset[1]);\n      this.stage.addChild(line);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js","import pokeCell from './poke_cell';\n\nconst STARTER_TYPES = [\"FIRE\", \"WATER\", \"GRASS\"]\n\n\n\nconst FIRST_GEN_DISTRIBUTION = {\n  \"NORMAL\" : (20/151),\n  \"WATER\" : (23/151),\n  \"GRASS\" : (13/151),\n  \"PSYCHIC\" : (9/151),\n  \"FIRE\" : (14/151),\n  \"ELECTRIC\" : (7/151),\n  \"FLYING\" : (8/151),\n  \"FIGHT\" : (7/151),\n  \"BUG\" : (13/151),\n  \"POISON\" : (11/151),\n  \"GROUND\" : (8/151),\n  \"DRAGON\" : (3/151),\n  \"ROCK\" : (11/151),\n  \"ICE\" : (5/151),\n  \"ELECTRIC\" : (3/151),\n  \"GHOST\" : (3/151)\n}\n\nconst SECOND_GEN_DISTRIBUTION = {\n  \"NORMAL\" : (15/100),\n  \"WATER\" : (15/100),\n  \"GRASS\" : (9/100),\n  \"PSYCHIC\" : (7/100),\n  \"FIRE\" : (8/100),\n  \"ELECTRIC\" : (7/100),\n  \"FLYING\" : (3/100),\n  \"FIGHT\" : (3/100),\n  \"BUG\" : (2/100),\n  \"POISON\" : (1/100),\n  \"GROUND\" : (9/100),\n  \"ROCK\" : (3/100),\n  \"ICE\" : (5/100),\n  \"ELECTRIC\" : (4/100),\n  \"GHOST\" : (3/100),\n  \"DARK\" : (8/100),\n  \"STEEL\" : (5/100)\n}\n\nexport default class Board{\n  constructor(options = {}){\n    this.cycle = 0;\n    this.numRows = options.numRows || 8;\n    this.numCols = options.numCols || 10;\n    this.DELTAS = [ [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [-1, -1], [0, -1], [1, -1] ];\n    this.grid = [];\n    this.initialState = \"random\"\n    this.fillBoardType = \"NORMAL\"\n    this.generateGrid();\n  }\n\n  generateGrid(){\n    switch(this.initialState){\n      case \"random\":\n        this.generateRandomGrid();\n        break;\n      case \"starterpokemon\":\n        this.generateStarterPokemonGrid();\n        break;\n      case \"firstgen\":\n        this.generateFirstGenGrid();\n        break;\n      case \"secondgen\":\n        this.generateSecondGenGrid();\n        break;\n      case \"fillwithtype\":\n        this.fillBoardWithType(this.fillBoardType);\n        break;\n      default:\n        this.generateEmptyGrid();\n    }\n  }\n\n  generateEmptyGrid(){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(let j = 0; j < this.numCols; j++){\n        this.grid[i].push(new pokeCell(\"NONE\"));\n      }\n    }\n  }\n\n  fillBoardWithType(type){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(let j = 0; j < this.numCols; j++){\n        this.grid[i].push(new pokeCell(type));\n      }\n    }\n  }\n\n  generateRandomGrid(){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(let j = 0; j < this.numCols; j++){\n        this.grid[i].push(new pokeCell())\n      }\n    }\n  }\n\n  generateStarterPokemonGrid(){\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([]);\n      for(let j = 0; j < this.numCols; j++){\n        let sampleStarter = STARTER_TYPES[Math.floor(Math.random() * 3)];\n        this.grid[i].push(new pokeCell(sampleStarter));\n      }\n    }\n  }\n\n  generateFirstGenGrid(){\n    let gridDistribution = Object.assign({}, FIRST_GEN_DISTRIBUTION);\n    let genOneTypes = Object.keys(gridDistribution);\n\n    genOneTypes.forEach((type) => {\n      return gridDistribution[type] = Math.ceil(gridDistribution[type] * this.numRows * this.numCols);\n    })\n\n\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([])\n      for(let j = 0; j < this.numCols; j++){\n\n        let sampleType = genOneTypes[Math.floor(Math.random() * genOneTypes.length)];\n        while(gridDistribution[sampleType] <= 0){\n          sampleType = Object.keys(gridDistribution)[Math.floor(Math.random() * genOneTypes.length)];\n        }\n\n        gridDistribution[sampleType] -= 1;\n        this.grid[i].push(new pokeCell(sampleType));\n      }\n    }\n  }\n\n  generateSecondGenGrid(){\n    let gridDistribution = Object.assign({}, SECOND_GEN_DISTRIBUTION);\n    let genOneTypes = Object.keys(gridDistribution);\n\n    genOneTypes.forEach((type) => {\n      return gridDistribution[type] = Math.ceil(gridDistribution[type] * this.numRows * this.numCols);\n    })\n\n\n    for(let i = 0; i < this.numRows; i++){\n      this.grid.push([])\n      for(let j = 0; j < this.numCols; j++){\n\n        let sampleType = genOneTypes[Math.floor(Math.random() * genOneTypes.length)];\n        while(gridDistribution[sampleType] <= 0){\n          sampleType = Object.keys(gridDistribution)[Math.floor(Math.random() * genOneTypes.length)];\n        }\n\n        gridDistribution[sampleType] -= 1;\n        this.grid[i].push(new pokeCell(sampleType));\n      }\n    }\n  }\n\n  assignCell(cellX, cellY, type){\n    this.grid[cellX][cellY] = new pokeCell(type);\n  }\n\n  battle(){\n    this.cycle += 1;\n    for(let rowIdx = 0; rowIdx < this.numRows; rowIdx++){\n      for(let colIdx = 0; colIdx < this.numCols; colIdx++){\n        let pokeCell = this.grid[rowIdx][colIdx];\n\n        if(pokeCell.type === \"NONE\"){\n          continue;\n        }\n        let currentPos = [rowIdx, colIdx];\n        let pokeNeighbors = [];\n\n        for(let deltaIdx = 0; deltaIdx < this.DELTAS.length; deltaIdx++){\n          let delta = this.DELTAS[deltaIdx];\n          let neighborPos = [currentPos[0] + delta[0], currentPos[1] + delta[1]];\n          if(this.inBounds(neighborPos)){\n            let neighbor = this.grid[neighborPos[0]][neighborPos[1]];\n            pokeNeighbors.push(neighbor);\n          }\n\n        }\n\n          pokeCell.battleNeighbors(pokeNeighbors);\n        }\n      }\n    }\n\n  inBounds(pos){\n    if(pos[0] < 0 || pos[0] >= this.numRows){\n      return false;\n    }\n\n    if(pos[1] < 0 || pos[1] >= this.numCols){\n      return false;\n    }\n\n    return true;\n  }\n\n  drawCell(pokeCell, stage, squareSize, idx, idx2){\n    let cell = new createjs.Shape();\n\n    cell.graphics.beginFill(pokeCell.color)\n    .drawRect(idx * squareSize, idx2 * squareSize, squareSize, squareSize);\n    stage.addChild(cell);\n  }\n\n  draw(stage, offset, numPokes, squareSize){\n    let offsetX = (this.numRows - Math.floor(numPokes[0] - numPokes[0] % 2)) / 2;\n    let offsetY = (this.numCols - Math.floor(numPokes[1] - numPokes[1] % 2)) / 2;\n\n    this.grid.forEach( (row, idx) => {\n      row.forEach( (pokeCell, idx2 ) => {\n        this.drawCell(pokeCell, stage, squareSize, idx, idx2)\n      })\n    })\n\n  }\n\n  resetBoard(){\n    this.grid = [];\n    this.cycle = [];\n    this.generateGrid();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","//types\nconst types = ([\n  \"NORMAL\",\n  \"FIGHT\",\n  \"FLYING\",\n  \"POISON\",\n  \"GROUND\",\n  \"ROCK\",\n  \"BUG\",\n  \"GHOST\",\n  \"FIRE\",\n  \"WATER\",\n  \"GRASS\",\n  \"ELECTRIC\",\n  \"PSYCHIC\",\n  \"ICE\",\n  \"DRAGON\",\n  \"DARK\",\n  \"STEEL\",\n  \"FAIRY\"\n]);\n\n//cell colors\nconst pokePalette = {\n  \"NORMAL\": \"#a9a978\",\n  \"FIGHT\" : \"#c03028\",\n  \"FLYING\" : \"#a890f0\",\n  \"POISON\" : \"#a040a0\",\n  \"GROUND\" : \"#e0c068\",\n  \"ROCK\" : \"#b8a038\",\n  \"BUG\" : \"#a8b820\",\n  \"GHOST\" : \"#6f5796\",\n  \"FIRE\" : \"#f08030\",\n  \"WATER\" : \"#6890f0\",\n  \"GRASS\" : \"#76c74e\",\n  \"ELECTRIC\" : \"#f8ce2a\",\n  \"PSYCHIC\" : \"#f85888\",\n  \"ICE\" : \"#97d7d8\",\n  \"DRAGON\" : \"#6e36f8\",\n  \"STEEL\" : \"#b8b8d0\",\n  \"DARK\" : \"#705848\",\n  \"FAIRY\" : \"#ff65d5\",\n  \"NONE\" : \"#000\"\n}\n\n//type match-ups\nconst immuneFrom = {\n  \"NORMAL\" : [\"GHOST\"],\n  \"FLYING\" : [\"GROUND\"],\n  \"GROUND\" : [\"ELECTRIC\"],\n  \"PSYCHIC\" : [\"GHOST\"],\n  \"GHOST\" : [\"NORMAL\", \"FIGHT\"],\n  \"FIGHT\" : [],\n  \"POISON\" : [],\n  \"ROCK\" : [],\n  \"BUG\" : [],\n  \"FIRE\" : [],\n  \"WATER\" : [],\n  \"GRASS\" : [],\n  \"ELECTRIC\" : [],\n  \"ICE\" : [],\n  \"DRAGON\" : [],\n  \"DARK\" : [\"PSYCHIC\"],\n  \"STEEL\" : [\"POISON\"],\n  \"FAIRY\" : [\"DRAGON\"],\n  \"NONE\" : []\n}\n\nconst halfDamageTo = {\n  \"NORMAL\" : [\"ROCK\", \"STEEL\"],\n  \"FIGHT\" : [\"FLYING\", \"POISON\", \"BUG\", \"PSYCHIC\", \"FAIRY\"],\n  \"FLYING\" : [\"ROCK\", \"ELECTRIC\", \"STEEL\"],\n  \"POISON\" : [\"POISON\", \"GROUND\", \"ROCK\", \"GHOST\"],\n  \"GROUND\" : [\"BUG\", \"GRASS\"],\n  \"ROCK\" : [\"FIGHT\", \"GROUND\", \"STEEL\"],\n  \"BUG\" : [\"FIGHT\", \"FLYING\", \"GHOST\", \"FIRE\", \"STEEL\", \"FAIRY\"],\n  \"GHOST\" : [\"DARK\"],\n  \"FIRE\" : [\"ROCK\", \"FIRE\", \"WATER\", \"DRAGON\"],\n  \"WATER\" : [\"WATER\", \"GRASS\", \"DRAGON\"],\n  \"GRASS\" : [\"FLYING\", \"POISON\", \"BUG\", \"FIRE\", \"GRASS\", \"DRAGON\"],\n  \"ELECTRIC\" : [\"GRASS\", \"ELECTRIC\", \"DRAGON\"],\n  \"PSYCHIC\" : [\"PSYCHIC\", \"STEEL\"],\n  \"ICE\" : [\"WATER\", \"ICE\", \"STEEL\"],\n  \"DRAGON\" : [\"STEEL\"],\n  \"DARK\" : [\"FIGHT\", \"DARK\", \"FAIRY\"],\n  \"STEEL\" : [\"STEEL\", \"FIRE\", \"WATER\", \"ELECTRIC\"],\n  \"FAIRY\" : [\"POISON\", \"STEEL\", \"FIRE\"],\n  \"NONE\" : []\n}\n\nconst doubleDamageTo = {\n  \"NORMAL\" : [],\n  \"FIGHT\" : [\"NORMAL\", \"ROCK\", \"ICE\", \"STEEL\", \"DARK\"],\n  \"FLYING\" : [\"FIGHT\", \"BUG\", \"GRASS\"],\n  \"POISON\" : [\"BUG\", \"GRASS\", \"FAIRY\"],\n  \"GROUND\" : [\"POISON\", \"ROCK\", \"FIRE\", \"ELECTRIC\", \"STEEL\"],\n  \"ROCK\" : [\"FLYING\", \"BUG\", \"FIRE\", \"ICE\"],\n  \"BUG\" : [\"POISON\", \"GRASS\", \"PSYCHIC\", \"DARK\"],\n  \"GHOST\" : [\"GHOST\"],\n  \"FIRE\" : [\"BUG\", \"GRASS\", \"ICE\", \"STEEL\"],\n  \"WATER\" : [\"GROUND\", \"ROCK\", \"FIRE\"],\n  \"GRASS\" : [\"GROUND\", \"ROCK\", \"WATER\"],\n  \"ELECTRIC\" : [\"FLYING\", \"WATER\"],\n  \"PSYCHIC\" : [\"FIGHT\", \"POISON\"],\n  \"ICE\" : [\"FLYING\", \"GROUND\", \"GRASS\", \"DRAGON\"],\n  \"DRAGON\" : [\"DRAGON\"],\n  \"DARK\" : [\"GHOST\", \"PSYCHIC\"],\n  \"STEEL\" : [\"ROCK\", \"ICE\", \"FAIRY\"] ,\n  \"FAIRY\" : [\"FIGHT\", \"DRAGON\", \"DARK\"],\n  \"NONE\" : []\n}\n\n\nexport default class pokeCell{\n\n  constructor(type = types[Math.floor(Math.random() * types.length)]){\n    this.HP = 20;\n    this.type = type;\n    this.color = pokePalette[this.type];\n  }\n\n  battleNeighbors(neighbors){\n\n    neighbors.forEach( (attacker) => {\n      let damage = this.calculateDamage(this, attacker);\n      this.HP -= damage;\n\n\n      if(this.HP <= 0){\n        this.HP = 20;\n        this.type = attacker.type;\n        this.color = pokePalette[attacker.type]\n      }\n\n    })\n  }\n\n  calculateDamage(defender, attacker){\n    if(immuneFrom[defender.type].includes(attacker.type) || attacker.type === \"NONE\"){\n      return 0\n    }\n\n    if(halfDamageTo[attacker.type].includes(defender.type)){\n      return 0.5;\n    }\n\n    if(doubleDamageTo[attacker.type].includes(defender.type)){\n      return 2;\n    }\n\n    return 1;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_cell.js","import { zoom } from 'jquery-zoom';\n\nexport default class pokeAutomataInterface{\n\n  constructor(view){\n    this.$playButton = $('#play-button');\n    this.$resetButton = $('#reset-button');\n    this.$toggleHoverAssign = $('#lock-select');\n    this.$typeSelect = $('#type-select');\n    this.$stepForward = $('#step-forward');\n    this.$toggleGrid = $('#toggle-grid');\n    this.$initialStateSelect = $('#initial-state');\n    this.$modalBackground = $('.modal');\n    this.$modalContent = $('.modal-content');\n    this.$modalText1 = $('.modal-text');\n    this.$modalText2 = $('.modal-text-2');\n    this.$rulesList = $('.rules-list');\n    this.$prevButton = $('#prev-button');\n    this.$nextButton = $('#next-button');\n    this.$openInstructions = $('#instructions');\n    this.$toggleColorGuide = $('#toggle-color');\n    this.view = view;\n    this.installHandlers();\n    this.openModal();\n  }\n\n  installHandlers(){\n    this.$playButton.on('click', this.playPause.bind(this));\n    this.$resetButton.on('click', this.resetBoard.bind(this));\n    this.$toggleHoverAssign.on('click', this.toggleHoverAssign.bind(this));\n    this.$typeSelect.on('change', this.setTypeToAssign.bind(this));\n    this.$stepForward.on('click', this.stepForward.bind(this));\n    this.$toggleGrid.on('click', this.toggleGridLines.bind(this));\n    this.$initialStateSelect.on('change', this.setInitialState.bind(this));\n    this.$modalBackground.on('click', this.closeModal.bind(this));\n    this.$prevButton.on('click', this.modalPrevious.bind(this));\n    this.$nextButton.on('click', this.modalNext.bind(this));\n    this.$toggleColorGuide.on('click', this.toggleColorGuide.bind(this));\n    this.$openInstructions.on('click', this.openModal.bind(this));\n  }\n\n  playPause(){\n    if(!createjs.Ticker.paused){\n      this.$playButton.text(\"PLAY\");\n      createjs.Ticker.paused = true;\n    } else {\n      this.$playButton.text(\"PAUSE\");\n      createjs.Ticker.paused = false;\n    }\n  }\n\n  resetBoard(){\n    this.view.pokeBattlefield.resetBoard()\n    this.view.drawBoard();\n  }\n\n  toggleHoverAssign(){\n    if(this.view.stage._mouseOverIntervalID){\n      this.$toggleHoverAssign.text(\"Enable Hover Assign\")\n      this.view.stage.enableMouseOver(0);\n    } else {\n      this.$toggleHoverAssign.text(\"Disable Hover Assign\")\n      this.view.stage.enableMouseOver(100);\n    }\n  }\n\n  setTypeToAssign(){\n    this.view.typeToAssign = event.currentTarget.value;\n    this.view.pokeBattlefield.fillBoardType = event.currentTarget.value;\n\n    if(createjs.Ticker.paused){\n      this.view.pokeBattlefield.resetBoard();\n    }\n  }\n\n  stepForward(){\n    this.view.stage.removeAllChildren();\n    this.view.pokeBattlefield.battle();\n    this.view.redrawBoard();\n    this.view.stage.update();\n  }\n\n  toggleGridLines(){\n    this.view.showGridLines = !this.view.showGridLines;\n  }\n\n  setInitialState(){\n    this.view.pokeBattlefield.initialState = event.currentTarget.value;\n    this.view.pokeBattlefield.resetBoard();\n  }\n\n  toggleColorGuide(){\n    if( $('.color-guide').css('display') === \"none\"){\n      $('.color-guide').css('display', 'block');\n    } else {\n      $('.color-guide').css('display', 'none');\n    }\n  }\n\n  openModal(){\n    this.$modalBackground.css('display', 'block');\n  }\n\n  modalPrevious(){\n    this.$modalBackground[0].id = parseInt(this.$modalBackground[0].id) - 1;\n    this.processModalContent();\n  }\n\n  modalNext(){\n    this.$modalBackground[0].id = parseInt(this.$modalBackground[0].id) + 1;\n    this.processModalContent();\n  }\n\n  processModalContent(){\n    let modalId = this.$modalBackground[0].id;\n\n    if(modalId !== \"0\"){\n      this.$prevButton.attr(\"enabled\", \"enabled\")\n      this.$prevButton.prop(\"disabled\", false)\n    } else {\n      this.$prevButton.attr(\"enabled\", \"disabled\")\n      this.$prevButton.attr(\"disabled\", true)\n    }\n\n\n    switch(modalId){\n      case \"0\":\n        this.$modalText1.text(\"Hello there! Welcome back to the world of Pokemon. If you don't remember me, my name is Professor Oak.\");\n        this.$modalText2.html(\"I have been studying JavaScript DOM techniques so that I can bring my research to the web. I am excited to share with you my latest creation: <br/><br/><strong id='sub-title'>The PokeAutomata</strong>\");\n        this.$rulesList.css('display', 'none');\n        break;\n      case \"1\":\n        this.$modalText1.text(\"The PokeAutomata simulates thousands of Pokemon type matchups at once. Its mechanisms are simple:\");\n        this.$modalText2.text(\"\")\n        this.$rulesList.css('display', 'block');\n        break;\n      case \"2\":\n        this.$rulesList.css('display', 'none');\n        this.$modalText1.text(\"Here is the standard type matchup chart. All Pokemon scientists must know this!\");\n        this.$modalText2.html(\"<span class='zoom'><img src='assets/type-chart.png' alt='type-chart' width='100%'/ id='typechart'></span><span class='zoom-prompt'>(Drag down and hold on chart to expand)</span>\");\n        $('.zoom').zoom({\n          on: 'grab',\n          magnify: 0.6,\n          duration: 240\n        });\n        this.$nextButton.text(\">\");\n        break;\n      case \"3\":\n        this.$modalText1.text(\"I hope you plan to join me in my research. You can start off by selecting one of the initial demo states and pressing play. You can also assign types yourself by clicking on a cell or hovering if you have hover assign enabled.\");\n        this.$modalText2.html(\"\");\n        this.$nextButton.text(\"exit\");\n        break;\n      case \"4\":\n        this.$modalBackground.css('display', 'none');\n        break;\n      default:\n        break;\n    }\n  }\n\n\n\n  closeModal(){\n    let $modalContent = $('.modal-content')[0]\n    let noExitTargets = [\n      $('.nav-buttons')[0],\n      $('#prev-button')[0],\n      $('#next-button')[0],\n      $('#professor-oak')[0],\n      $('#sub-title')[0],\n      $('.zoom')[0],\n      $('#typechart')[0],\n      $('.zoomImg')[0],\n      $modalContent];\n\n\n    if((!noExitTargets.includes(event.target)\n      && event.target.parentElement !== $modalContent)\n      || event.target === $('.exit')[0]){\n      this.$modalBackground.css('display', 'none');\n    }\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/poke_automata_interface.js","/*!\n\tZoom 1.7.18\n\tlicense: MIT\n\thttp://www.jacklmoore.com/zoom\n*/\n(function ($) {\n\tvar defaults = {\n\t\turl: false,\n\t\tcallback: false,\n\t\ttarget: false,\n\t\tduration: 120,\n\t\ton: 'mouseover', // other options: grab, click, toggle\n\t\ttouch: true, // enables a touch fallback\n\t\tonZoomIn: false,\n\t\tonZoomOut: false,\n\t\tmagnify: 1\n\t};\n\n\t// Core Zoom Logic, independent of event listeners.\n\t$.zoom = function(target, source, img, magnify) {\n\t\tvar targetHeight,\n\t\t\ttargetWidth,\n\t\t\tsourceHeight,\n\t\t\tsourceWidth,\n\t\t\txRatio,\n\t\t\tyRatio,\n\t\t\toffset,\n\t\t\t$target = $(target),\n\t\t\tposition = $target.css('position'),\n\t\t\t$source = $(source);\n\n\t\t// The parent element needs positioning so that the zoomed element can be correctly positioned within.\n\t\ttarget.style.position = /(absolute|fixed)/.test(position) ? position : 'relative';\n\t\ttarget.style.overflow = 'hidden';\n\t\timg.style.width = img.style.height = '';\n\n\t\t$(img)\n\t\t\t.addClass('zoomImg')\n\t\t\t.css({\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\topacity: 0,\n\t\t\t\twidth: img.width * magnify,\n\t\t\t\theight: img.height * magnify,\n\t\t\t\tborder: 'none',\n\t\t\t\tmaxWidth: 'none',\n\t\t\t\tmaxHeight: 'none'\n\t\t\t})\n\t\t\t.appendTo(target);\n\n\t\treturn {\n\t\t\tinit: function() {\n\t\t\t\ttargetWidth = $target.outerWidth();\n\t\t\t\ttargetHeight = $target.outerHeight();\n\n\t\t\t\tif (source === target) {\n\t\t\t\t\tsourceWidth = targetWidth;\n\t\t\t\t\tsourceHeight = targetHeight;\n\t\t\t\t} else {\n\t\t\t\t\tsourceWidth = $source.outerWidth();\n\t\t\t\t\tsourceHeight = $source.outerHeight();\n\t\t\t\t}\n\n\t\t\t\txRatio = (img.width - targetWidth) / sourceWidth;\n\t\t\t\tyRatio = (img.height - targetHeight) / sourceHeight;\n\n\t\t\t\toffset = $source.offset();\n\t\t\t},\n\t\t\tmove: function (e) {\n\t\t\t\tvar left = (e.pageX - offset.left),\n\t\t\t\t\ttop = (e.pageY - offset.top);\n\n\t\t\t\ttop = Math.max(Math.min(top, sourceHeight), 0);\n\t\t\t\tleft = Math.max(Math.min(left, sourceWidth), 0);\n\n\t\t\t\timg.style.left = (left * -xRatio) + 'px';\n\t\t\t\timg.style.top = (top * -yRatio) + 'px';\n\t\t\t}\n\t\t};\n\t};\n\n\t$.fn.zoom = function (options) {\n\t\treturn this.each(function () {\n\t\t\tvar\n\t\t\tsettings = $.extend({}, defaults, options || {}),\n\t\t\t//target will display the zoomed image\n\t\t\ttarget = settings.target && $(settings.target)[0] || this,\n\t\t\t//source will provide zoom location info (thumbnail)\n\t\t\tsource = this,\n\t\t\t$source = $(source),\n\t\t\timg = document.createElement('img'),\n\t\t\t$img = $(img),\n\t\t\tmousemove = 'mousemove.zoom',\n\t\t\tclicked = false,\n\t\t\ttouched = false;\n\n\t\t\t// If a url wasn't specified, look for an image element.\n\t\t\tif (!settings.url) {\n\t\t\t\tvar srcElement = source.querySelector('img');\n\t\t\t\tif (srcElement) {\n\t\t\t\t\tsettings.url = srcElement.getAttribute('data-src') || srcElement.currentSrc || srcElement.src;\n\t\t\t\t}\n\t\t\t\tif (!settings.url) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$source.one('zoom.destroy', function(position, overflow){\n\t\t\t\t$source.off(\".zoom\");\n\t\t\t\ttarget.style.position = position;\n\t\t\t\ttarget.style.overflow = overflow;\n\t\t\t\timg.onload = null;\n\t\t\t\t$img.remove();\n\t\t\t}.bind(this, target.style.position, target.style.overflow));\n\n\t\t\timg.onload = function () {\n\t\t\t\tvar zoom = $.zoom(target, source, img, settings.magnify);\n\n\t\t\t\tfunction start(e) {\n\t\t\t\t\tzoom.init();\n\t\t\t\t\tzoom.move(e);\n\n\t\t\t\t\t// Skip the fade-in for IE8 and lower since it chokes on fading-in\n\t\t\t\t\t// and changing position based on mousemovement at the same time.\n\t\t\t\t\t$img.stop()\n\t\t\t\t\t.fadeTo($.support.opacity ? settings.duration : 0, 1, $.isFunction(settings.onZoomIn) ? settings.onZoomIn.call(img) : false);\n\t\t\t\t}\n\n\t\t\t\tfunction stop() {\n\t\t\t\t\t$img.stop()\n\t\t\t\t\t.fadeTo(settings.duration, 0, $.isFunction(settings.onZoomOut) ? settings.onZoomOut.call(img) : false);\n\t\t\t\t}\n\n\t\t\t\t// Mouse events\n\t\t\t\tif (settings.on === 'grab') {\n\t\t\t\t\t$source\n\t\t\t\t\t\t.on('mousedown.zoom',\n\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\tif (e.which === 1) {\n\t\t\t\t\t\t\t\t\t$(document).one('mouseup.zoom',\n\t\t\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\t\t\tstop();\n\n\t\t\t\t\t\t\t\t\t\t\t$(document).off(mousemove, zoom.move);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tstart(e);\n\n\t\t\t\t\t\t\t\t\t$(document).on(mousemove, zoom.move);\n\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t} else if (settings.on === 'click') {\n\t\t\t\t\t$source.on('click.zoom',\n\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\tif (clicked) {\n\t\t\t\t\t\t\t\t// bubble the event up to the document to trigger the unbind.\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclicked = true;\n\t\t\t\t\t\t\t\tstart(e);\n\t\t\t\t\t\t\t\t$(document).on(mousemove, zoom.move);\n\t\t\t\t\t\t\t\t$(document).one('click.zoom',\n\t\t\t\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\t\t\t\tstop();\n\t\t\t\t\t\t\t\t\t\tclicked = false;\n\t\t\t\t\t\t\t\t\t\t$(document).off(mousemove, zoom.move);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} else if (settings.on === 'toggle') {\n\t\t\t\t\t$source.on('click.zoom',\n\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\tif (clicked) {\n\t\t\t\t\t\t\t\tstop();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstart(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclicked = !clicked;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} else if (settings.on === 'mouseover') {\n\t\t\t\t\tzoom.init(); // Preemptively call init because IE7 will fire the mousemove handler before the hover handler.\n\n\t\t\t\t\t$source\n\t\t\t\t\t\t.on('mouseenter.zoom', start)\n\t\t\t\t\t\t.on('mouseleave.zoom', stop)\n\t\t\t\t\t\t.on(mousemove, zoom.move);\n\t\t\t\t}\n\n\t\t\t\t// Touch fallback\n\t\t\t\tif (settings.touch) {\n\t\t\t\t\t$source\n\t\t\t\t\t\t.on('touchstart.zoom', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (touched) {\n\t\t\t\t\t\t\t\ttouched = false;\n\t\t\t\t\t\t\t\tstop();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttouched = true;\n\t\t\t\t\t\t\t\tstart( e.originalEvent.touches[0] || e.originalEvent.changedTouches[0] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('touchmove.zoom', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tzoom.move( e.originalEvent.touches[0] || e.originalEvent.changedTouches[0] );\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.on('touchend.zoom', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (touched) {\n\t\t\t\t\t\t\t\ttouched = false;\n\t\t\t\t\t\t\t\tstop();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ($.isFunction(settings.callback)) {\n\t\t\t\t\tsettings.callback.call(img);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\timg.src = settings.url;\n\t\t});\n\t};\n\n\t$.fn.zoom.defaults = defaults;\n}(window.jQuery));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery-zoom/jquery.zoom.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}